{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row d-flex container-fluid justify-content-center gy-4 mt-1">
        <div class="col-md-7 d-flex justify-content-center">
            <h2 class="text-center fw-semibold">Registro de Productos</h2>
        </div>
        <div class="col-md-3 d-flex text-center  justify-content-center">
            <a class="text-decoration-none" href="/detalle/producto/agregar">
                <button type="button" class="btn text-white btn-primary btn-usuario border-0">Agregar registro<i
                        class="bi bi-plus-lg mx-3"></i></button>
            </a>
        </div>
        <div class="col-md-2 d-flex text-center  justify-content-center">
            <a class="text-decoration-none">
                <button type="button" class="btn btn-primary text-white btn-volver border-0" onclick="history.back()">
                    <i class="bi bi-arrow-bar-left mx-3"></i>Volver
                </button>
            </a>
        </div>
    </div>

    <div class="mt-5" style="max-height: 300px; overflow-y: auto;">
        <table class="table table-bordered text-center">
            <thead class="table-dark sticky-top">
                <tr>
                    <th>Producto</th>
                    <th>Precio Compra</th>
                    <th>Cantidad</th>
                    <th>Descuento (%)</th>
                    <th>Fecha Vencimiento</th>
                    <th>Subtotal</th>
                    <th>Vendedor</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="tabla-productos">
                
                <!-- {% if productos and productos|length > 0 %}
                {% for prod in productos %}
                <tr>
                    <td>{{ prod.nombre }}</td>
                    <td>S/ {{ prod.precio_compra }}</td>
                    <td>{{ prod.cantidad }}</td>
                    <td>{{ prod.descuento }}%</td>
                    <td>{{ prod.fecha_vencimiento }}</td>
                    <td>S/ {{ prod.subtotal }}</td>
                    <td>{{ prod.vendedor }}</td>
                    <td>
                    </td>
                </tr>
                {% endfor %}
                {% else %}
                <tr>
                    <td colspan="8" class="text-muted">No hay productos registrados.</td>
                </tr>
                {% endif %} -->
                <tr>
                    <td>Leche Gloria 1L</td>
                    <td>S/ 4.50</td>
                    <td>12</td>
                    <td>5%</td>
                    <td>2025-12-15</td>
                    <td>S/ 51.30</td>
                    <td>Distribuidora Sur</td>
                    <td>
                        <a href="/detalle/producto/editar/1" class="btn btn-warning btn-sm m-1">
                            <i class="bi bi-pencil"></i>
                        </a>
                    </td>
                </tr>
                <tr>
                    <td>Arroz Costeño 5kg</td>
                    <td>S/ 18.90</td>
                    <td>6</td>
                    <td>0%</td>
                    <td>2026-03-01</td>
                    <td>S/ 113.40</td>
                    <td>Mayorista Norte</td>
                    <td>
                        <a href="/detalle/producto/editar/2" class="btn btn-warning btn-sm m-1">
                            <i class="bi bi-pencil"></i>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="row mt-5 mb-4 d-flex justify-content-center align-items-center gap-4">
        <div class="col-md-3">
            <label for="fecha" class="form-label fw-medium">Fecha</label>
            <input type="date" id="fecha" name="fecha" class="form-control" required>
        </div>

        <div class="col-md-3">
            <label for="hora" class="form-label fw-medium">Hora</label>
            <input type="time" id="hora" name="hora" class="form-control" required>
        </div>

        <div class="col-md-3">
            <label for="establecimiento" class="form-label fw-medium">Establecimiento</label>
            <select id="establecimiento" name="establecimiento" class="form-select" required>
                <option disabled selected value="">Selecciona un establecimiento</option>
                <option value="1">Supermercado MiVeci</option>
                <option value="2">Tienda El Ahorro</option>
            </select>
            <div class="mt-2">
                <small class="text-muted">¿No lo encuentras?
                    <a href="/establecimiento/agregar" class="text-primary text-decoration-none">Agrégalo aquí</a>
                </small>
            </div>
        </div>

        <div class="col-md-2 d-flex align-items-center justify-content-center">
            <button type="button" class="btn btn-danger btn-agregar border-0 text-white" onclick="limpiarTabla()">
                <i class="bi bi-trash me-2"></i>Limpiar
            </button>
        </div>
    </div>

    <div class="d-flex justify-content-center mt-5">
        <button type="submit" class="btn btn-agregar btn-primary border-0 text-white">
            <i class="bi bi-plus-circle me-2"></i>Guardar
        </button>
    </div>
</div>

{% endblock %}